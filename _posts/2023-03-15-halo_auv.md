---
layout: post
title:  "Custom built ROV/AUV"
categories: [ROS2, Electrical Design, Mechanical Design, Python, Mavlink]
image: assets/images/optimized_thumb.gif
featured: true
hidden: true
---

ROS2, Electrical Design, Mechanical Design, Python, Mavlink

<div align="center"><iframe width="700" height="394" src="https://www.youtube.com/embed/8WXNRmXKI5E" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div>


## Overview

Halo AUV is a robot I created to serve as platform for student's in my master's program at Northwestern University
to use to learn about underwater robotics and impliment different features on. Personally, I wanted to gain experience
in underwater robotics while also buildkkng a robot from the ground up. The robot can run as a normal remotely
operated vehicle (ROV) and has been integrated with ROS2 to further explore autonomous capabilities. Below is a block diagram
describing the architecture of the robot.

<p align = "center"><img src="https://user-images.githubusercontent.com/46512429/225735537-3376c1d1-477b-4449-94be-46e569b8983c.png" height="900"   width="650"/></p>
<p align = "center">Halo AUV Block Diagram</p>

On Halo itself, the Pixhawk handles low level control and actually sends commands to move the motors. It 
relays depth information from a barometer and heading information from its internal sensors to the Raspberry Pi.
The Raspberry Pi sends these sensor measurements alongside the camera stream via Ethernet to a laptop.
The measurements and camera stream are then sent to either QGroundControl (ROV mode) or to a ROS2 nodes
that publish the images to a ROS topic and perform different control functions. In ROV mode, control input
comes from a PlayStation control manned by a human. When high level control cmommands are recieved, they are
sent back to the Raspberry Pi over the Ethernet tether and eventually to the Pixhawk to move the robot.

## Mechanical Design
The key aspects of the mechanical design are ease of manufacturing, high adjustablility, and the abililty
to easily add on new payloads/sensors. The design is also centered around the BlueRobotics 3" and 4" watertight
enclosures.

<div align="center"><h2> <a href="https://cad.onshape.com/documents/80b1bd153eeafd48236580f8/w/a8bef987ce7a6f7e2556b87e/e/c5365bc12b4a5414eba7a777?renderMode=0&uiState=64133e72baa9af4c9b11d3a9">View the Mechanical Design</a></h2></div>

<p align = "center"><img src="https://user-images.githubusercontent.com/46512429/225687785-9b64f344-fcf0-4a4d-b7c9-24ed178947cc.png" height="600"   width="800"/></p>

<p align = "center">Halo AUV</p>

The frame itself is constructed of two parallel laser-cut pieces of acryllic that are mounted to the 
water tight enclosure and reinforced with multiple standoffs. Once the top and bottom frames are cut, 
the only tools needed to assemble the frame are common hex keys. The assembly process takes about 10 minutes. 

The vehicle also consists of six slotted mounts along the bottom of the frame for adding and moving 
weights. These are used to adjust the vehile's overall weight and to align the it center of bouyancy 
with its center of gravity. The current design allows for weights to be quickly added and shifted so
that adjustments can be made quickly. This is esspecially useful for adding new payloads to the vehicle
as they will change the weight and bouyancy balance of the robot. Additionally, floats may be added
to increase the bouyancy. 

<p align = "center"><img src="https://user-images.githubusercontent.com/46512429/225508507-ff27e27a-fcbe-4740-a20d-61eb99ce611a.gif" height="200" width="280"/> <img src="https://user-images.githubusercontent.com/46512429/225509749-6b0fd71c-9194-4dd6-bf3e-4cb84fb6357f.gif" height="200" width="280"/> <img src="https://user-images.githubusercontent.com/46512429/225510365-459077d5-c2ea-4ec6-85bb-c2b0b1e0c81b.gif" height="200" width="280"/> </p>

<p align = "center">Weight Sliders, Corner Weights, and Bouyancy Floats</p>


Additionaly payloads and sensors can also be easily added to Halo. There are many mounting holes lining
all sides of the frame and going down the center. The weight mounts are a good example of how new payloads
may be added.

## Electrical Dessign

![image](https://user-images.githubusercontent.com/46512429/225513025-a6f9a9ca-644e-4e17-b3fe-7a8860e6f7c3.png)
<p align = "center">Wiring Diagram</p>

## Software

## ROV Functionality

When using the robot as an ROV, a user simply has to plug the robot's tether into their laptop and 
run the QGroundControl software (shown below). This software allows them to control the robot with 
a standard video game controller while getting depth information, heading information, and a first person
view from onboard the ROV.

<p align = "center"><img src="https://user-images.githubusercontent.com/46512429/225519957-af670ed4-fafb-47be-807c-44130d4830f3.png" height="400" width="700"/> </p>
<p align = "center">QGroundControl View in ROV Mode</p>


## ROS2 Integration

Explain the different nodes and services

<div align="center"><h2> <a href="https://github.com/oubrejames/slam_ENGR_4200">View it on Github</a></h2></div>



